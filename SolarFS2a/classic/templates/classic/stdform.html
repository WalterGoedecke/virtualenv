{% extends "base-altered.html" %}

{% load mezzanine_tags i18n %}

{# {% load SFS_templatetags %} #}

{% block main %}
	{{ block.super }}
	{% if request.GET.sent %}
	    {% editable page.form.response %}
		    {{ page.form.response|richtext_filters|safe }}
	    {% endeditable %}
	{% else %}
	    {% with page.form as page_form %}
		    {% editable page_form.content %}
			    {{ page_form.content|richtext_filters|safe }}
		    {% endeditable %}
	    {% endwith %}

		<!-- Comment out? -->
	    {# {% errors_for form %} #}
	
		<!-- ------------------------------------- -->
		<!-- Add HTML code here in template! -->
		<!-- - - - - - - - - - - - - - - - - - - - - - -->
		<div id=title1>
		    Solar FS Calculations App
		</div>
		<div class=text1>
		    This application allows an input of a geographic location, a time range, and solar cell panel orientation. 
			The output is the effective radiant flux incident upon the panel.  
		</div>
		<blockquote>
			<blockquote>
		        <div class=text1>
					Input your geographic location, e.g., 555 Sun St., Boulder, CO:
        		</div>
	
			    <form class="mezzanine-form" method="post"{% if form.is_multipart %} action='' enctype="multipart/form-data"{% endif %}>
			        {% fields_for form %}
			        <div class="form-actions">
						{% csrf_token %}
					    {# "pf" is profile-form, the form object. #}
				        <div class="text3">
						    {{ pf.as_p }}
							<br> 
				        </div>
			            <input class="btn btn-primary btn" type="submit"
		                value="{% if page.form.button_text %}{{ page.form.button_text }}{% else %}{% trans "Submit" %}{% endif %}">
			        </div>
			    </form>
				<br>
				<span class=title3>A field:</span> {{ last_calc.A }}
				<br>
				<span class=title3>B field:</span> {{ last_calc.B }}
				<br>

			</blockquote>
		</blockquote>
		<!-- ------------------------------------- -->
		    
	{% endif %}
	
{% endblock %}


{% block extra_js %}
	{{ block.super }}
	<script>
		$(function() {$('.mezzanine-form :input:visible:enabled:first').focus();});
	</script>
{% endblock %}
